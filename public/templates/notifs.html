
<div class="col-md-3"></div>
<div class="col-md-6">
  <h4>
    Notifications
  </h4>

  <div infinite-scroll="notifsCtrl.loadMoreNotifs()" infinite-scroll-distance="1">
    <div ng-repeat="notif in notifsCtrl.notifs" ng-click="notifsCtrl.markAsRead(notif)" ng-class="{ 'bg-info' : !notif.isRead }">
      <hr ng-if="!$first" />
      <div style="padding:7px;">
        <ul class="list-unstyled list-inline">        
          <li>
            <a ui-sref="vicigo.profile({profileId: notif.fromUser.username})">
              <img ng-src="{{notif.fromUser.imageUrl || '/img/avatar.png'}}" class="img-circle img-thumbnail-avatar-smallest">
            </a>
          </li>
          <li style="vertical-align:middle; max-width:85%;">
            <a href="{{notif.pointer}}">
              <span style="margin-top:50px;" ng-bind-html="notifsCtrl.displayNotif(notif.message)">
              </span>
            </a>
            <small class="text-muted">{{::notif.createdAtFormatted}}</small>
          </li>
        </ul>
      </div>
    	<div style='clear: both;'></div>
  </div>
  <div ng-if="notifsCtrl.isLoading">
    <i class="fa fa-circle-o-notch fa-spin"></i>
  </div>
</div>

