<div style="margin-top: 50px;" class="text-center" ng-if="isLoading">
  <i class="fa fa-circle-o-notch fa-spin fa-2x"></i>
</div>
<div ng-if="!isLoading">
  <div class="row" style="margin-bottom: 30px;">
    <div class="col-xs-12">
      <strong style="font-size: 30px;"
        >Your
        <span ng-if="currentTab === 'drafts'">drafts</span>
        <span ng-if="currentTab === 'published'">published</span>
      </strong>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12" style="margin-bottom: 20px;">
      <ul class="nav nav-tabs text-center">
        <li
          ng-class="{ 'bold': currentTab === 'drafts' }"
          class="showProfileTab disabled hc-tooltip"
          ng-click="switchTab('drafts')"
        >
          <a href="#" class="showProfileTab"> Drafts ({{ drafts.length }}) </a>
        </li>

        <li
          ng-class="{ 'bold': currentTab === 'published' }"
          class="showProfileTab"
          ng-click="switchTab('published')"
        >
          <a href="#" class="showProfileTab">
            Published ({{ posts.length }})
          </a>
        </li>
      </ul>
    </div>
  </div>
  <div class="row" ng-if="currentTab === 'published'">
    <div class="col-xs-12">
        <div class="row">
            <div class="col-xs-12" style="margin-bottom: 20px;">
              <ul class="nav nav-tabs text-center">
                <li
                  ng-class="{ 'bold': currentTab === 'posts' }"
                  class="showProfileTab disabled hc-tooltip"
                  ng-click="switchTab('posts')"
                >
                  <a href="#" class="showProfileTab"> Posts ({{ drafts.length }}) </a>
                </li>
        
                <li
                  ng-class="{ 'bold': currentTab === 'postComments' }"
                  class="showProfileTab"
                  ng-click="switchTab('postComments')"
                >
                  <a href="#" class="showProfileTab">
                    Comments ({{ posts.length }})
                  </a>
                </li>
              </ul>
            </div>
          </div>
      <div class="row">
        <div class="col-xs-12">
          <div ng-if="!posts.length" class="col-xs-12 text-center">
            <h2>Write your first post!</h2>
            <a href="/write" target="_self">
              <button class="btn-default btn" style="margin:10px;">
                <strong>Create draft</strong>
              </button>
            </a>
          </div>
          <div
            ng-if="posts.length"
            class="post-feed-body"
            ng-repeat="post in posts"
            style="padding: 10px; margin-bottom: 10px;"
          >
            <div class="row">
              <div class="col-xs-12">
                <h3>
                  <strong> {{ post.title }} </strong>
                </h3>
                <article ng-if="post.body" style="font-size: 14px;">
                  {{ displayPostBody(post.body) }}
                </article>
              </div>
            </div>
            <div class="row">
              <div class="col-xs-12 col-sm-8 pull-left">
                <span class="text-muted" style="font-size: 12px;"
                  >Published on {{ post.publishedAt }}</span
                >
              </div>
              <div class="col-xs-12 col-sm-4 pull-right text-right">
                <a
                  class="btn btn-default btn-xs"
                  ui-sref="vicigo.post({ alias: post.alias, username: post.user.username })"
                  target="_blank"
                >
                  <i class="fa fa-eye"></i>&nbsp;View
                </a>
                <a
                  class="btn btn-default btn-xs"
                  ng-href="/edit/{{ post.id }}"
                  target="_blank"
                >
                  <i class="fa fa-eraser"></i>&nbsp;Edit
                </a>
                <button
                  ng-if="post.status !== 'archived'"
                  class="btn btn-default btn-xs"
                  ng-disabled="isArchiving"
                  ng-click="archivePost(post)"
                >
                  <i class="fa fa-archive"></i>&nbsp;Archive
                </button>
              </div>
            </div>
          </div>
          <button
            ng-disabled="isLoadingMore"
            ng-if="postsAvailable"
            class="btn btn-default btn-block"
            style="margin-top: 20px;margin-bottom: 50px;"
            ng-click="loadMore()"
          >
            Load more...
          </button>
          <div ng-if="!postsAvailable" style="margin-bottom: 50px;"></div>
        </div>
      </div>
    </div>
  </div>
  <div class="row" ng-if="currentTab === 'drafts'">
    <div class="col-xs-12">
        <div class="row">
            <div class="col-xs-12" style="margin-bottom: 20px;">
              <ul class="nav nav-tabs text-center">
                <li
                  ng-class="{ 'bold': currentTab === 'draftPosts' }"
                  class="showProfileTab disabled hc-tooltip"
                  ng-click="switchTab('draftPosts')"
                >
                  <a href="#" class="showProfileTab"> Posts ({{ drafts.length }}) </a>
                </li>
        
                <li
                  ng-class="{ 'bold': currentTab === 'draftComments' }"
                  class="showProfileTab"
                  ng-click="switchTab('draftComments')"
                >
                  <a href="#" class="showProfileTab">
                    Comments ({{ posts.length }})
                  </a>
                </li>
              </ul>
            </div>
          </div>
      <div class="row">
        <div class="col-xs-12">
          <div ng-if="!posts.length" class="col-xs-12 text-center">
            <h2>Write your first post!</h2>
            <a href="/write" target="_self">
              <button class="btn-default btn" style="margin:10px;">
                <strong>Create draft</strong>
              </button>
            </a>
          </div>
          <div
            ng-if="posts.length"
            class="post-feed-body"
            ng-repeat="post in posts"
            style="padding: 10px; margin-bottom: 10px;"
          >
            <div class="row">
              <div class="col-xs-12">
                <h3>
                  <strong> {{ post.title }} </strong>
                </h3>
                <article ng-if="post.body" style="font-size: 14px;">
                  {{ displayPostBody(post.body) }}
                </article>
              </div>
            </div>
            <div class="row">
              <div class="col-xs-12 col-sm-8 pull-left">
                <span class="text-muted" style="font-size: 12px;"
                  >Published on {{ post.publishedAt }}</span
                >
              </div>
              <div class="col-xs-12 col-sm-4 pull-right text-right">
                <a
                  class="btn btn-default btn-xs"
                  ui-sref="vicigo.post({ alias: post.alias, username: post.user.username })"
                  target="_blank"
                >
                  <i class="fa fa-eye"></i>&nbsp;View
                </a>
                <a
                  class="btn btn-default btn-xs"
                  ng-href="/edit/{{ post.id }}"
                  target="_blank"
                >
                  <i class="fa fa-eraser"></i>&nbsp;Edit
                </a>
                <button
                  ng-if="post.status !== 'archived'"
                  class="btn btn-default btn-xs"
                  ng-disabled="isArchiving"
                  ng-click="archivePost(post)"
                >
                  <i class="fa fa-archive"></i>&nbsp;Archive
                </button>
              </div>
            </div>
          </div>
          <button
            ng-disabled="isLoadingMore"
            ng-if="postsAvailable"
            class="btn btn-default btn-block"
            style="margin-top: 20px;margin-bottom: 50px;"
            ng-click="loadMore()"
          >
            Load more...
          </button>
          <div ng-if="!postsAvailable" style="margin-bottom: 50px;"></div>
        </div>
      </div>
    </div>
  </div>

</div>
