<div [hidden]="!story.hasPaidSection" class="form-row mt-3">
  <div class="col">
    <div class="text-uppercase"><b>Pay-to-read Section Cost</b></div>
    <div>
      <small class="text-muted">Choose how much readers pay in order to read your paid section.</small>
    </div>
  </div>
  <div class="w-100"></div>
  <div class="col">
    <label for="elPaidSectionCostInBch">
      <small><b>Cost in BCH:</b></small>
    </label>
    <input
      class="form-control"
      name="elPaidSectionCostInBch"
      #elPaidSectionCostInBch="ngModel"
      type="number"
      step="0.001"
      min="0"
      required
      id="elPaidSectionCostInBch"
      [(ngModel)]="story.paidSectionCost"
      (ngModelChange)="onChangePaidSectionCost(PAID_SECTION_CURRENCIES.Bch)"
      [ngClass]="{ 'is-invalid': form.submitted && elPaidSectionCostInBch.invalid, 'is-valid': form.submitted && elPaidSectionCostInBch.valid }"
    />
  </div>
  <div class="col" [hidden]="canCalculateUsdRate">
    <label for="elPaidSectionCostInUsd">
      <small><b>Cost in USD:</b></small>
    </label>
    <input
      class="form-control"
      name="elPaidSectionCostInUsd"
      #elPaidSectionCostInUsd="ngModel"
      type="number"
      step="0.1"
      min="0"
      required
      id="elPaidSectionCostInUsd"
      [(ngModel)]="paidSectionCostInUsd"
      (ngModelChange)="onChangePaidSectionCost(PAID_SECTION_CURRENCIES.Usd)"
      [ngClass]="{ 'is-invalid': form.submitted && elPaidSectionCostInUsd.invalid, 'is-valid': form.submitted && elPaidSectionCostInUsd.valid }"
    />
  </div>
</div>
<div [hidden]="!story.hasPaidSection" class="form-row mt-3">
  <div class="col">
    <div class="text-uppercase"><b>Pay-to-read Section</b></div>
    <div>
      <small
        [ngClass]="{ 'text-danger': form.submitted && !paidSectionLineBreakTouched, 'text-muted': !form.submitted }"
      >Choose where your paid section starts by moving the up and down arrows. The red line indicates where the free
        section ends and the paid section starts.
      </small>
    </div>
  </div>
  <div class="w-100 mb-2"></div>
  <div class="col">
    <div class="row">
      <div class="col-10">
        <article class="editor-publish-modal__paid-section hide-scrollbar p-3"
                 [ngClass]="{ 'invalid': form.submitted && !paidSectionLineBreakTouched }">
          <div
            #paidSectionElements
            *ngFor="let block of this.story.body; let index = index;"
            [ngClass]="{'paid-section__dashed-underline': index === this.story.paidSectionLinebreak}"
            [innerHTML]="convertBlockToHtml(block)">
          </div>
        </article>
      </div>
      <div class="col-2 d-flex flex-column">
        <div class="col d-flex align-items-end pb-2">
          <button
            type="button"
            class="btn btn-block btn-outline-dark"
            (click)="onSwitchLinebreak(LINEBREAK_ACTION.MoveUp)"
            [disabled]="story.paidSectionLinebreak === 0"
          >
            <fa-icon [icon]="['fas', 'chevron-up']"></fa-icon>
          </button>
        </div>
        <div class="col d-flex align-items-start pt-2">
          <button
            type="button"
            class="btn btn-block btn-outline-dark"
            (click)="onSwitchLinebreak(LINEBREAK_ACTION.MoveDown)"
            [disabled]="story.paidSectionLinebreak === paidSectionLinebreakEnd - 1"
          >
            <fa-icon [icon]="['fas', 'chevron-down']"></fa-icon>
          </button>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <small class="text-muted">
          <fa-icon [icon]="['fas', 'exclamation-triangle']"></fa-icon>&nbsp;Spaces around blocks and font sizes have
          been reduced to fit story into this frame.
        </small>
      </div>
    </div>
  </div>
</div>
